<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil EcoSanea</title>
    <link rel="shortcut icon" href="4995402-gota-d-agua-com-meia-folha-e-onda-d-agua-gratis-vetor-removebg-preview.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Ubuntu', sans-serif;
        }

        body {
            background-color: #85c4f8;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        .profile-picture {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin-bottom: 10px;
        }

        h1 {
            font-size: 28px;
            color: #58af9b;
            display: inline-block;
        }

        .bio {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            gap: 20px;
        }

        .img_container img {
            width: 100%;
            max-width: 150px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .bio-info {
            flex: 2;
        }

        .posts h3 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #58af9b;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }

        .post1 {
            background: #f9f9f9;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .post-header {
            display: flex;
            align-items: center;
        }

        .small-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .likes {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .liked {
            color: red;
        }

        .like:hover {
            color: red;
            cursor: pointer;
            transition: color 0.3s;
        }

        .voltar {
            color: #333;
            margin-bottom: 20px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .bio {
                flex-direction: column;
                text-align: center;
            }

            .img_container {
                margin-bottom: 20px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <a href="principal.html">
            <svg class="voltar" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8" />
            </svg>
        </a>

        <header>
            <img src="EcoSanea-removebg-preview.png" class="profile-picture" alt="EcoSanea">
            <h1>Eco Sanea</h1>
        </header>

        <div class="bio">
            <div class="img_container">
                <img src="close-up-confident-male-employee-white-collar-shirt-smiling-camera-standing-self-assured-against-studio-background.jpg" alt="João Silva">
            </div>
            <div class="bio-info">
                <h2>João Silva</h2>
                <p>Santa Catarina, Brasil</p>
                <p>Olá! Sou João, gosto de programar, viajar e explorar novos lugares.</p>
            </div>
        </div>

        <section class="posts">
            <h3>Denúncias</h3>

            <!-- Adicione uma função JavaScript para gerar postagens dinamicamente -->
            <div id="lista-denuncias">
                <!-- As postagens serão geradas aqui -->
            </div>
        </section>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                fetch('http://localhost:3000/api/denuncia')
                    .then(response => response.json())
                    .then(denuncias => {
                        const listaDoFront = document.getElementById('lista-denuncias');
                        listaDoFront.innerHTML = '';

                        denuncias.forEach((denuncia, i) => {
                            const postDenuncia = document.createElement('div');
                            postDenuncia.className = 'post1';
                            postDenuncia.innerHTML = `
                                <div class="post-header">
                                    <img src="imagens/close-up-confident-male-employee-white-collar-shirt-smiling-camera-standing-self-assured-against-studio-background.jpg" alt="${denuncia.autor}" class="small-img">
                                    <h1>${denuncia.autor}</h1>
                                </div>
                                <h2>${denuncia.localizacao}</h2>
                                <p>${denuncia.descricao}</p>
                                <div class="likes">
                                    <p><b>Likes:</b> <span id="contador-likes-${i}">0</span></p>
                                    <svg class="like" onclick="curtir(${i})" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-suit-heart-fill" viewBox="0 0 16 16">
                                        <path d="M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1" />
                                    </svg>
                                </div>
                            `;
                            listaDoFront.appendChild(postDenuncia);
                        });
                    })
                    .catch(error => console.error('Erro ao buscar denúncias:', error));
            });

            function curtir(index) {
                const contador = document.getElementById(`contador-likes-${index}`);
                const currentLikes = parseInt(contador.innerText);
                contador.innerText = currentLikes + 1;
            }
        </script>
    </div>
</body>

</html>
