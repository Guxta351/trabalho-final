<html>

<head>
    <meta charset="UTF-8">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Ubuntu", sans-serif;
        }

        body {
            background-color: #85c4f8;

        }

        img {
            margin-left: 70%;
            width: 13%;
            position: absolute;
        }

        .cartao {
            text-align: center;
            padding: 5%;

        }

        .elo {
            border-radius: 10px;


        }

        .eloo {
            border-radius: 10px;

        }

        button {
            background-color: white;
            color: rgb(0, 0, 0);
            padding: 10px 10px;
            text-decoration: none;
            border: none;
            border-radius: 10px;


        }

        input {
            border-radius: 6%;
            padding: 30px;
            width: 30%;
            height: 3%;

        }

        .exemplo {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 25%;
            background-color :#3d67b4 ; 


        }
    </style>
</head>

<body>
    <img src="imagens/EcoSanea-removebg-preview.png" class="img">
    <div class="exemplo">
        <h1>EcoSanea</h1>
    </div>
    <div class="cartao">
        <input class="eloo" id="email" placeholder="Email">
        <br>
        <br>
        <input class="eloo" id="senha" placeholder="Senha">      
        <br>
        <br>
        <button id="botao">Entrar</button><br><br>
        <a href="segunda.html"> <button>Cadastre-se</button><br><br></a>
    </div>
    <script>
        document.getElementById('botao').addEventListener('click', function (event) {
            event.preventDefault(); // Evita o envio padrão do formulário

            // Obtém os valores dos campos do formulário
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;

            // Cria o objeto de dados a ser enviado
            const dados = {
                email: email,
                senha: senha
            };

            // Envia os dados para o back-end usando Fetch API
            fetch('http://localhost:3000/entrar', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dados)
            })
                .then(response => response.json())
                .then(data => {
                    // Adiciona no local storage
                    localStorage.setItem("usuario", JSON.stringify(data))
                    alert('Bem vindo ao Ecosanea');
                    window.location.href = "principal.html"
                })
                .catch(error => {
                    console.error('Houve um problema com a solicitação:a', error.message);
                    alert('Usuario não existe');
                });
        });
    </script>

</body>

</html>